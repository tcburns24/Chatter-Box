<link rel="stylesheet" type="text/css" href="styles/style.css">

<h1>Chat Rooms</h1>

<!-- show room names here -->
<!-- ng-repeat in the album view in bloc jams -->

<section class="roomcol">
	<div ng-show="rooms.cookie.getUser()" ng-hide="!rooms.cookie.getUser()" class="signedinas">
		Signed in as: <strong>{{ rooms.cookie.getUser(username) }}</strong>
	</div>
	<div>
		<p>{{ rooms.currentRoom.name }}</p>
	</div>
	<form ng-hide="rooms.cookie.getUser()" ng-submit="rooms.cookie.setUserCookie(username)">
		<input type="text" ng-model="username" placeholder="Enter your username">
		<button type="submit" style="pull-right">Set Username</button>
	</form>
	<form ng-submit="rooms.room.addRoom(newRoomName)">
		<input type="text" ng-model="newRoomName" placeholder="Enter New Room Name">
		<button type="submit" style="pull-right">Create room</button>
	</form>
	<form ng-submit="rooms.message.send(newMessage, rooms.currentRoom.$id)">
		<input type="text" ng-model="newMessage" placeholder="Enter your message">
		<button type="submit" style="pull-right">Send Message</button>
	</form>
	<div ng-repeat="room in rooms.rooms">
		<a href="#" ng-click='rooms.selectRoom(room)'><p class="rooms-home">{{ room.name }}</p></a>
	</div>
</section>

<section class="messagecol">
	<div ng-repeat="message in rooms.messages">
		<p class="messages-home">{{ message.username }}: {{ message.content }}</p>  
	</div>
</section>

